<br />
<h1>Listing songs</h1>

<% form_tag songs_path, :method => 'get' do %>
  <p>
    <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Search", :name => nil %>
  </p>
<% end %>

<table>
  <tr>
    <th width="20%"><%= default_sortable_header("title", 'desc') %></th>
    <th width="5%" >Track</th>
    <th width="5%" >Year</th>
    <th width="10%"><%= sortable_header("album", 'asc') %></th>
    <th width="10%"><%= sortable_header("artist", 'asc') %></th>
    <th width="10%"><%= sortable_header("genre", 'asc') %></th>
    <th width="5%" >Size</th>
    <th width="30" >Type</th>
    <th colspan="3" >Action</th>
  </tr>

<% for song in @songs %>
  <tr class="<%= cycle("cssAlternating1", "cssAlternating2") %>" >
    <td><%=h song.title %></td>
    <td><%=h song.track %></td>
    <td><%=h song.year %></td>
    <td><%=h song.album.name %></td>
    <td><%=h song.artist.name %></td>
    <td><%=h song.genre.name %></td>
    <td><%=h number_to_human_size(song.size) %></td>
    <td><%=h song.songtype.name %></td>
    <td width="20"><%= link_to 'Show', song %></td>
    <td width="20"><%= link_to 'Stream', :controller => "songs", :action => "stream_one_song", :id => song %></td>
    <td width="20"><%= link_to 'Get', :controller => "songs", :action => "send_one_song", :id => song %></td>
  </tr>
<% end %>
</table>

<br />

<%= will_paginate @products %>
<br>
